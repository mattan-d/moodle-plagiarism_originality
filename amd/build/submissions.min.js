/**
 * JS functions.
 *
 * @package
 * @copyright  2023 mattandor <mattan@centricapp.co>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("plagiarism_originality/submissions",["jquery"],function($){return{unsetLimit:function(){var attemptreopenmethod=$("#id_attemptreopenmethod"),maxattempts=$("#id_maxattempts");attemptreopenmethod.find("option").removeAttr("disabled"),maxattempts.find("option").removeAttr("disabled")},setLimit:function(){var attemptreopenmethod=$("#id_attemptreopenmethod"),maxattempts=$("#id_maxattempts");attemptreopenmethod.find("option").attr("disabled",!0),attemptreopenmethod.find("[value=manual]").prop("selected",!0).removeAttr("disabled"),attemptreopenmethod.change().click(),maxattempts.find("option").attr("disabled",!0),maxattempts.find("[value=2]").prop("selected",!0).removeAttr("disabled"),maxattempts.change().click()},submissions:function(){var that=this,originalityDropdown=$("#id_originality_use"),originalityDropdownGhostwriter=$("#id_originality_use_ghostwriter"),submitBtn=$("input[id=id_submitbutton], input[id=id_submitbutton2]"),originalityStatus=originalityDropdown.val(),el=$("#fitem_fgroup_id_assignsubmission_file_filetypes"),ghostinit=setInterval(function(){1==originalityDropdownGhostwriter.val()&&(el.find("[type=text]").val("*").attr("readonly",!0),el.find("[type=button]").attr("disabled",!0)),el.find("[type=button]").length>0&&clearInterval(ghostinit)},2e3);originalityDropdownGhostwriter.change(function(){1==$(this).val()?el.find("[type=button]").attr("disabled",!0):(el.find("#id_assignsubmission_file_filetypes").val("*"),el.find("[type=button]").removeAttr("disabled"))}),2==originalityStatus&&that.setLimit(),originalityDropdown.change(function(){var status=$(this).val(),msg=$("#assignment_has_submissions_notifications");2==status?that.setLimit():that.unsetLimit(),1==status&&($(".originality-message").toggle(!0),msg.length&&require(["core/notification"],function(notification){notification.alert("Notification",msg.html(),"OK")}))}),submitBtn.on("click",function(e){var isOnlinetext=$("#id_assignsubmission_onlinetext_enabled").is(":checked"),isGwon=$("#id_originality_use_ghostwriter").val();isOnlinetext&&1==isGwon&&$(".originality-gw-notify").length&&(e.preventDefault(),require(["core/notification"],function(notification){notification.alert("",$(".core-notification msg").text(),$(".core-notification btn").text())}))}),$("#originality-checkbox").length&&($("#region-main input[id=id_submitbutton]").click(function(e){if(!$("#originality-checkbox").is(":checked"))return e.preventDefault(),void require(["core/notification"],function(notification){notification.alert("Originality Warning",$(".core-notification msg").text(),$(".core-notification btn").text())})}),$("#region-main #originality-checkbox").click(function(){var isChecked=$(this).is(":checked");$(".originality-checkbox-form").remove(),$(".mform").prepend('<input type="hidden" value="'+isChecked+'" class="originality-checkbox-form" name="originality-checkbox-form">')}))}}});

//# sourceMappingURL=submissions.min.js.map